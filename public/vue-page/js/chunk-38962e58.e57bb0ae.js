(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-38962e58"],{"04f4":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"mysquad"},[a("BreakMyTeam",{attrs:{latestEntries:t.le}})],1)},n=[],o=a("bc3a"),l=a.n(o),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"square"},[a("div",{staticClass:"square__options"},[a("button",[t._v(" Latest entries ")]),a("button",{staticClass:"square_upload",on:{click:function(e){return t.activateModal("yourUploads","modal--long")}}},[t._v(" Your uploads ")]),a("button",{staticClass:"square_upload",on:{click:function(e){return t.activateModal("importSlot","modal--large")}}},[t._v("new team")])]),a("LatestEntries",{attrs:{teams:t.latestEntries}}),a("transition",{attrs:{name:"bounce"}},[t.uploadModal?a("Modal",{attrs:{sizeClass:t.modalSize},on:{"close-my-modal":function(e){t.uploadModal=!1}}},[a(t.selectedComponent,{tag:"component"})],1):t._e()],1)],1)},i=[],c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("article",{staticClass:"square_latest"},[a("div",{staticClass:"square_latest_entries"},t._l(t.teams,(function(e,s){return a("div",{key:s,staticClass:"square_latest_entry"},[a("div",{staticClass:"square_latest_entry_members"},t._l(e.teamMembers,(function(t,e){return a("div",{key:e},[a("img",{attrs:{src:"/2d/"+t.name+".png"}})])})),0),a("div",{staticClass:"square_latest_entry_tier",class:e.tier},[a("p",[t._v(t._s(e.tier))])]),a("button",{staticClass:"square_latest_entry_visit",on:{click:function(a){return t.$router.push({path:"/mysquad/shared/"+e.tier+"/"+e._id})}}},[t._v("view")])])})),0)])},u=[],d={props:["teams"]},m=d,p=a("2877"),_=Object(p["a"])(m,c,u,!1,null,null,null),f=_.exports,v=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"square_import"},[a("h1",[t._v("Import text from pokemon showdown and select a tier to proceed")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.rawData,expression:"rawData"}],staticClass:"square_import_text",domProps:{value:t.rawData},on:{input:function(e){e.target.composing||(t.rawData=e.target.value)}}}),a("div",{staticClass:"square_import_format"},t._l(Object.keys(t.dex),(function(e,s){return a("div",{key:s,staticClass:"square_import_format_tier",class:{"square_import_format_tier-active":t.selectedTier==e},on:{click:function(a){if(a.target!==a.currentTarget)return null;t.selectedTier=e}}},[t._v(" "+t._s(e)+" ")])})),0),a("button",{staticClass:"square_upload square_upload--small",on:{click:function(e){return t.upload(!1)}}},[t._v("Save")])])},h=[],g=(a("4160"),a("d3b7"),a("159b"),function(){return a.e("chunk-0e395d44").then(a.bind(null,"e6fe"))}),b={data:function(){return{selectedTier:"",rawData:"",loading:!1,localData:[]}},methods:{upload:function(t){var e=this;!1!==this.selectedTier&&(this.loading=!0,g().then((function(a){var s={};for(var n in s.pokemon=a.parseTeam(e.rawData),s.pokemon)void 0===s.pokemon[n].level&&(s.pokemon[n].level=e.dex[e.selectedTier]);s.raw=e.rawData,s.tier={defaultLevel:e.dex[e.selectedTier],alias:e.selectedTier},s.getData=t,l.a.post("/mysquad",s).then((function(t){if(t.data.sucess){var a=[];t.data.response.pokemon.forEach((function(t){a.push({name:t.data.slug})})),l.a.post("/mysquad/upload",{raw:t.data.response.raw,tier:t.data.response.tier,teamMembers:a}).then((function(t){1===t.data.code&&(e.localData.push(t.data.id),localStorage.setItem("saved",JSON.stringify(e.localData)),e.loading=!1,e.$router.push({path:t.data.path}))})).catch((function(t){alert(t)}))}else alert(t.data.message)}))})))}},created:function(){var t=JSON.parse(localStorage.getItem("saved"));null!==t&&(this.localData=t)}},y=b,C=Object(p["a"])(y,v,h,!1,null,null,null),k=C.exports,q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",t._l(t.uploaded,(function(e,s){return a("section",{key:s},[t._l(e.teamMembers,(function(t,e){return a("img",{key:e,attrs:{src:"/2d/"+t.name+".png"}})})),a("button",{on:{click:function(a){return t.$router.push({path:"/mysquad/shared/"+e.tier+"/"+e._id})}}},[t._v("edit")])],2)})),0)},w=[],M={data:function(){return{uploaded:[]}},created:function(){var t=this,e=JSON.parse(localStorage.getItem("saved"));e&&l.a.post("/mysquad/myuploads",e).then((function(e){t.uploaded=e.data})).catch((function(t){console.log(t)}))}},x=M,S=Object(p["a"])(x,q,w,!1,null,null,null),T=S.exports,D=a("cb15"),E={data:function(){return{uploadModal:!1,modalSize:"",selectedComponent:""}},components:{importSlot:k,yourUploads:T,LatestEntries:f,Modal:D["a"]},props:["latestEntries"],methods:{activateModal:function(t,e){this.selectedComponent=t,this.modalSize=e,this.uploadModal=!0}}},O=E,$=Object(p["a"])(O,r,i,!1,null,null,null),j=$.exports,z={title:"Battle Square",components:{BreakMyTeam:j},data:function(){return{team:"",parsed:!1,selectedTier:!1,loading:!1,tiers:{ou:100,vgc:50,bss:50,ru:100,nu:100,ubers:100,monotype:100,uu:100},le:[]}},created:function(){var t=this;this.loading=!1,l.a.post("/mysquad/shared/latest").then((function(e){t.le=e.data.teams}))}},J=z,I=Object(p["a"])(J,s,n,!1,null,null,null);e["default"]=I.exports},cb15:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"modal",on:{click:function(e){return e.target!==e.currentTarget?null:t.closeMyModal(e)}}},[a("section",{staticClass:"modal__content",class:t.sizeClass},[a("div",{staticClass:"modal__bar"},[a("button",{staticClass:"modal__close",on:{click:t.closeMyModal}},[t._v("X")])]),a("section",{staticClass:"modal__settings"},[t._t("default")],2)])])},n=[],o={name:"Modal",props:["sizeClass"],methods:{closeMyModal:function(t){t.stopPropagation(),this.$emit("close-my-modal",!1)}}},l=o,r=a("2877"),i=Object(r["a"])(l,s,n,!1,null,null,null);e["a"]=i.exports}}]);
//# sourceMappingURL=chunk-38962e58.e57bb0ae.js.map